Ext.form.field.ComboBox.override({getSelectedData:function(){return Ext.isArray(this.displayTplData)?this.displayTplData[0]:displayTplData},maxLength:500,load:function(n,t){this.setLoading(!1),n?n.params||Ext.apply(n,{params:{}}):n={callback:Ext.emptyFn,params:{}};var i=n.callback;n.callback=function(n){var u=Ext.decode(n.responseText);this.store&&this.store.loadData(u),Ext.isFunction(i)&&Ext.bind(i,t!==undefined?t:this,[u])()},Ext.Ajax.request({url:this.store.proxy.url,params:n.params,success:Ext.bind(n.callback,this)})},getModelData:function(){var n=this,t={};return t[n.refId?n.refId:n.getName()]=n.getValue(),t},getSubmitData:function(){var n=this,t=null;return n.submitValue&&(t={},t[n.refId?n.refId:n.getName()]=""+n.getValue()),t},getParams:function(n){var t={};return this.storeParams!=null&&(t=this.storeParams),t[this.queryParam]=n,t},getValue:function(){var n=this,t=n.rawToValue(n.processRawValue(n.getRawValue())),i,r;if(n.store)for(i=0;i<n.store.data.items.length;i++)r=n.store.data.items[i],t!=undefined&&r.data[n.displayField].toString().toUpperCase()==t.toString().toUpperCase()&&(t=r.data[n.valueField]);return n.value=t,t},getRawValue:function(){var t=this,n=t.callParent();return n===t.emptyText&&(n=""),n},initComponent:function(){var n=this,u=Ext.isDefined,i=n.store,f=n.transform,t,r;Ext.applyIf(n.renderSelectors,{hiddenDataEl:"."+n.hiddenDataCls.split(" ").join(".")}),n.typeAhead&&n.multiSelect&&Ext.Error.raise("typeAhead and multiSelect are mutually exclusive options -- please remove one of them."),n.typeAhead&&!n.editable&&Ext.Error.raise("If typeAhead is enabled the combo must be editable: true -- please change one of those settings."),n.selectOnFocus&&!n.editable&&Ext.Error.raise("If selectOnFocus is enabled the combo must be editable: true -- please change one of those settings."),this.addEvents("beforequery","select","beforeselect","beforedeselect"),f&&(t=Ext.getDom(f),t&&(i=Ext.Array.map(Ext.Array.from(t.options),function(n){return[n.value,n.text]}),n.name||(n.name=t.name),"value"in n||(n.value=t.value))),n.bindStore(i||"ext-empty-store",!0),i=n.store,i.autoCreated&&(n.queryMode="local",n.valueField=n.displayField="field1",i.expanded||(n.displayField="field2")),u(n.valueField)||(n.valueField=n.displayField),r=n.queryMode==="local",u(n.queryDelay)||(n.queryDelay=r?10:500),u(n.minChars)||(n.minChars=r?0:4),n.displayTpl?Ext.isString(n.displayTpl)&&(n.displayTpl=Ext.create("Ext.XTemplate",n.displayTpl)):n.displayTpl=Ext.create("Ext.XTemplate",'<tpl for=".">{[typeof values === "string" ? values : values["'+n.displayField+'"]]}<tpl if="xindex < xcount">'+n.delimiter+"</tpl></tpl>"),n.callParent(),n.doQueryTask=Ext.create("Ext.util.DelayedTask",n.doRawQuery,n),n.store.getCount()>0&&n.setValue(n.value),t&&(n.render(t.parentNode,t),Ext.removeNode(t),delete n.renderTo),this.hideTrigger==!0&&(this.emptyText=this.emptyText!=undefined?this.emptyText:"Digite para Pesquisar")}}),Ext.define("Ext.form.field.XComboBox",{extend:"Ext.form.field.ComboBox",alternateClassName:"Ext.form.XComboBox",alias:["widget.xcombobox","widget.xcombo"],trigger1Class:"x-form-select-trigger",trigger2Class:"x-form-clear-trigger",onRender:function(){this.callParent(arguments);var i=this.getId();this.triggerEl.replaceWith({tag:"div",cls:"x-form-twin-triggers",style:"display:block;width:46px;",cn:[{tag:"img",style:Ext.isIE?"margin-left:-3;height:19px":"",src:Ext.BLANK_IMAGE_URL,id:"trigger1"+i,name:"trigger1"+i,cls:"x-form-trigger "+this.trigger1Class},{tag:"img",style:Ext.isIE?"margin-left:-6;height:19px":"",src:Ext.BLANK_IMAGE_URL,id:"trigger2"+i,name:"trigger2"+i,cls:"x-form-trigger "+this.trigger2Class}]});this.triggerEl.on("mouseup",function(n){n.target.name=="trigger1"+i?this.onTriggerClick():n.target.name=="trigger2"+i&&this.reset()},this);Ext.get("trigger1"+i).addClsOnOver("x-form-trigger-over"),Ext.get("trigger2"+i).addClsOnOver("x-form-trigger-over")},checkChange:function(){if(!this.suspendCheckChange){var n=this,t=n.getValue(),i=n.lastValue;if(!n.isEqual(t,i)&&!n.isDestroyed){n.lastValue=t,n.fireEvent("changefilter",n,t,i),n.fireEvent("change",n,t,i);n.onChange(t,i)}}}})